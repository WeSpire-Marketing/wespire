import {useEffect, useRef} from 'react'
import {motion, useAnimationControls, useInView} from 'framer-motion'

export default function Icon({color = '#FFCC7B', className = '', style = {}}) {
  const controls = useAnimationControls()
  const ref = useRef(null)
  const isInView = useInView(ref)

  useEffect(() => {
    if (isInView) {
      controls.start({opacity: 1, pathLength: 1})
    }
  }, [controls, isInView])

  return (
    <svg
      width="44"
      height="40"
      viewBox="0 0 44 40"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      ref={ref}
      className={className}
      style={{
        top: '-9px',
        right: '-45px',
        position: 'absolute',
        ...style,
      }}
    >
      <motion.path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M35.2957 22.8575C35.1919 22.9837 35.0144 23.4717 34.901 23.9421C34.4888 25.6532 34.3207 26.4172 34.2379 26.9563C34.1915 27.2588 34.1083 27.7291 34.053 28.0014C33.9977 28.2735 33.9604 28.6165 33.9702 28.7635C33.99 29.0589 33.8483 29.1605 33.3741 29.1912C32.6532 29.2379 28.6287 30.1574 28.2718 30.357C27.7475 30.6501 27.6794 31.4622 28.1426 31.8975C28.3851 32.1254 28.5448 32.18 29.0261 32.1996C30.0229 32.2402 31.1392 32.3751 32.433 32.6114C32.8897 32.6948 33.3916 32.7546 33.5484 32.7441C33.8855 32.7216 34.0519 32.9378 34.0856 33.4423C34.1172 33.9151 34.3465 34.964 34.738 36.4264C35.2801 38.4514 35.3078 38.524 35.6415 38.8044C35.9062 39.0268 36.0322 39.0611 36.4558 39.0264C36.8957 38.9903 36.9866 38.9444 37.1996 38.6506C37.4138 38.355 37.4425 38.2009 37.4441 37.3372C37.445 36.799 37.4944 35.851 37.5539 35.2306C37.6133 34.6102 37.6745 33.8456 37.6901 33.5314C37.7256 32.8108 37.8597 32.6539 38.4757 32.6128C38.7412 32.595 39.144 32.525 39.3709 32.457C39.5978 32.3891 40.1543 32.2361 40.6076 32.1169C41.8438 31.7919 43.0972 31.3529 43.3627 31.1518C43.8031 30.8183 43.8529 30.2726 43.5 29.6508C43.2144 29.1476 42.9384 29.0789 41.2941 29.1018C40.6164 29.1112 39.5723 29.1009 38.9739 29.0789L37.8859 29.0389L37.7746 28.3038C37.7135 27.8996 37.5385 26.5628 37.3858 25.3331C37.1126 23.1333 37.1036 23.093 36.8272 22.8213C36.5791 22.5775 36.4844 22.55 36.0153 22.5866C35.601 22.6191 35.4428 22.6786 35.2957 22.8575ZM11.8843 0.348581C11.668 0.475591 11.4851 0.702538 11.3604 0.998352C11.1876 1.40826 11.1783 1.59509 11.2658 2.9039C11.4474 5.62146 10.8035 8.30272 9.60627 9.8142C9.21466 10.3086 8.24119 11.1452 7.92675 11.2575C7.82075 11.2954 7.4967 11.4291 7.20662 11.5546C6.1848 11.9969 5.40482 12.138 3.13943 12.291C1.02855 12.4336 0.950143 12.4459 0.756868 12.6675C0.612535 12.8331 0.562864 13.0244 0.578132 13.3562C0.595803 13.7417 0.6453 13.8505 0.88529 14.0311C1.04269 14.1497 1.33887 14.2632 1.54347 14.2833C1.74807 14.3035 2.04644 14.3524 2.20635 14.3919C2.36637 14.4315 2.70847 14.4497 2.96671 14.4324C3.44164 14.4007 3.75641 14.5532 3.77449 14.8238C3.78761 15.0201 4.21401 15.2809 4.7139 15.3985C7.46771 16.046 9.24323 16.7746 10.5201 17.7808C11.204 18.3197 12.1543 19.6565 12.4737 20.5288C12.5418 20.7148 12.7108 22.1736 12.8493 23.7705C13.1424 27.1526 13.1475 27.168 14.093 27.573C14.7196 27.8414 15.0528 27.8462 15.5569 27.5942C16.4388 27.1531 16.6061 26.7146 16.5003 25.12C16.4401 24.2114 16.4523 23.8002 16.5458 23.5865C16.6162 23.4257 16.6701 23.2412 16.6658 23.1762C16.654 22.9988 17.1318 21.7859 17.6302 20.7287C18.3106 19.2851 19.2711 18.2307 20.9058 17.1327C22.0529 16.3622 23.5353 15.5385 24.5281 15.1199C25.4338 14.7381 25.8032 14.547 26.4387 14.1317C26.8672 13.8515 27.457 13.1361 27.6255 12.692C27.9603 11.8097 27.5703 10.8716 26.6352 10.3095C26.2433 10.0739 26.1312 10.059 24.926 10.0812C23.6695 10.1044 23.4316 10.0832 22.2868 9.84575C21.359 9.65344 21.1474 9.58205 19.5003 8.9058C17.7207 8.17516 16.6083 7.15539 15.944 5.64557C15.7695 5.24887 15.5273 4.70821 15.4061 4.44407C15.2847 4.17994 15.1199 3.72321 15.0398 3.4291C14.4267 1.17853 14.2843 0.827502 13.8337 0.457277C13.3699 0.0762554 12.4362 0.0241191 11.8843 0.348581ZM15.6092 10.8878C16.5343 11.6969 17.3287 12.1816 18.7782 12.8206C20.0307 13.3728 20.0333 13.3754 19.6055 13.6415C18.6178 14.2562 17.1586 15.4587 16.5 16.2009C16.16 16.584 15.3076 17.764 15.051 18.2066C14.9294 18.4163 14.8073 18.5898 14.7796 18.5921C14.752 18.5943 14.4791 18.2677 14.1734 17.8661C13.6618 17.1944 12.677 16.2311 11.9949 15.7355C11.5762 15.4311 10.1055 14.6533 9.63286 14.4862C9.40468 14.4055 8.99584 14.2553 8.72424 14.1524L8.23045 13.9653L8.52837 13.755C8.69223 13.6394 9.17727 13.3383 9.60627 13.0859C10.4104 12.6129 11.549 11.6795 11.9294 11.1816C12.0482 11.026 12.3415 10.5631 12.581 10.1529C12.8204 9.74274 13.1522 9.23688 13.3182 9.02879L13.6199 8.65036L14.182 9.3907C14.4912 9.7979 15.1334 10.4716 15.6092 10.8878Z"
        fill={color}
        initial={{opacity: 0, pathLength: 0}}
        animate={controls}
        transition={{duration: 1.5, yo: 'spring', delay: 0.25}}
      />
    </svg>
  )
}
