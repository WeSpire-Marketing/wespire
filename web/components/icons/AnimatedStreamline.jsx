import { useEffect, useRef } from 'react'
import { motion, useAnimationControls, useInView } from 'framer-motion'

export default function Icon({ className = '', color = '#F9FBFF' }) {
  const ref = useRef(null)
  const isInView = useInView(ref)
  const controls = useAnimationControls()

  useEffect(() => {
    if (isInView) {
      controls.start({ opacity: 1, pathLength: 1 })
    }
  }, [controls, isInView])

  return (
    <svg
      className={className}
      width="248"
      height="103"
      viewBox="0 0 248 103"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      // style={{
      //   top: '-27px',
      //   left: '-10px',
      //   right: '0',
      //   bottom: '0',
      //   position: 'absolute',
      //   zIndex: '-1',
      // }}
    >
      <motion.path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M174.728 12.0054C133.29 0.53641 61.2412 -4.00461 65.4038 5.14446C66.7067 8.00791 68.2449 8.33751 77.1685 7.63752C131.32 3.36902 214.469 22.7959 227.215 42.709C230.178 47.3437 230.017 47.46 223.869 44.6317C203.663 35.4448 180.228 30.6693 137.471 26.9877C46.6018 19.1237 -18.2022 37.7848 5.67734 65.1424C18.1917 79.497 62.226 91.6232 107.266 94.1008C116.473 94.6107 113.579 95.9993 101.515 95.7849C72.991 95.3227 62.9242 93.2764 50.1606 91.6418L45.424 88.8634C38.5106 84.9403 23.0939 81.1131 6.22449 79.1433C-1.11968 78.2657 0.700554 87.4325 30.9611 94.1777C34.2308 94.9063 32.304 95.2506 22.9976 95.4613C15.6489 95.6301 15.2311 95.7687 16.9241 97.4935C19.3514 100.011 38.5994 100.987 47.5286 99.0076C51.1582 98.1789 52.827 98.2056 57.4125 98.8907C95.346 104.77 161.262 102.995 201.955 94.6252C240.206 86.7616 256.547 70.6607 241.5 55.7886C239.359 53.6674 237.511 50.8957 236.018 47.497C230.044 34.2508 206.936 20.9179 174.728 12.0054ZM228.199 52.1533C235.873 58.334 208.682 75.4791 180.607 82.227C118.74 97.0118 5.06343 80.4662 9.81889 57.4546C15.1322 31.677 128.276 23.9193 205.937 43.4962C209.303 44.3181 227.144 51.2439 228.199 52.1533ZM240.271 65.0646C237.824 74.2447 223.83 82.0028 202.051 87.44C196.011 88.9607 194.064 86.6771 197.663 85.546C234.618 73.54 236.708 58.0569 237.031 57.7088C239.015 58.7832 241.086 62.2759 240.271 65.0646Z"
        fill={color}
      />
    </svg>
  )
}
