import {useEffect, useRef} from 'react'
import {motion, useAnimationControls, useInView} from 'framer-motion'

export default function Icon({color = '#FFCC7B'}) {
  const controls = useAnimationControls()
  const ref = useRef(null)
  const isInView = useInView(ref)

  useEffect(() => {
    if (isInView) {
      controls.start({opacity: 1, pathLength: 1})
    }
  }, [controls, isInView])

  return (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="54"
      height="50"
      viewBox="0 0 54 50"
      fill="none"
      ref={ref}
      style={{
        top: '-9px',
        right: '-45px',
        position: 'absolute',
      }}
    >
      <motion.path
        d="M52.6948 22.2411C52.4571 21.9228 52.1524 21.6605 51.8023 21.4726C51.4522 21.2848 51.0652 21.176 50.6685 21.1538H49.1857H46.8628C46.0935 21.2784 45.3092 21.2784 44.5399 21.1538C43.9191 21.0166 43.3418 20.728 42.8595 20.3136C41.4544 19.1124 40.4534 17.5075 39.9929 15.7172C39.2595 12.4747 39.1089 9.12766 39.5481 5.83244V5.88187C39.5568 5.54248 39.4954 5.20495 39.3679 4.89032C39.2403 4.57569 39.0493 4.29072 38.8067 4.05319C38.5539 3.82856 38.254 3.6632 37.9291 3.56915C37.6042 3.4751 37.2624 3.45473 36.9286 3.50953C36.6243 3.53887 36.3299 3.63354 36.0654 3.78707C35.801 3.9406 35.5729 4.14938 35.3965 4.39915C35.1745 4.67163 35.0219 4.99384 34.9517 5.33821C34.9517 5.33821 34.9517 6.07956 34.9517 6.32668L34.3586 8.10594C33.8149 9.39096 33.2219 10.7254 32.5793 12.0104C32.1959 12.8441 31.7324 13.6386 31.1955 14.3828C29.2332 17.2992 26.6511 19.7463 23.6336 21.5492C22.2259 22.4504 20.6359 23.0286 18.9781 23.2422C17.3203 23.4559 15.6357 23.2997 14.0454 22.7848C13.8767 22.7167 13.6962 22.6824 13.5142 22.684C13.3322 22.6856 13.1523 22.7231 12.9848 22.7942C12.8173 22.8654 12.6654 22.9688 12.5379 23.0986C12.4103 23.2284 12.3096 23.3821 12.2415 23.5509C12.1733 23.7196 12.1391 23.9001 12.1407 24.0821C12.1423 24.2641 12.1797 24.444 12.2509 24.6115C12.322 24.779 12.4254 24.9309 12.5553 25.0584C12.6851 25.186 12.8388 25.2867 13.0075 25.3548C13.6756 25.6517 14.3708 25.8834 15.0833 26.0468C15.0313 26.248 15.0194 26.4575 15.0484 26.6633C15.0774 26.8691 15.1466 27.0671 15.2522 27.2461C15.3578 27.4251 15.4976 27.5816 15.6637 27.7065C15.8297 27.8315 16.0188 27.9225 16.2201 27.9743C18.6999 28.88 20.9338 30.3524 22.744 32.2742C24.8365 34.1313 26.5196 36.4035 27.6864 38.9464C28.5052 41.3803 29.1981 43.8547 29.7622 46.36C30.0093 47.0519 30.2564 47.7438 30.553 48.4358C30.6944 48.8517 30.9704 49.2087 31.3374 49.4504C31.7043 49.692 32.1413 49.8046 32.5793 49.7702C32.9685 49.7781 33.3527 49.6813 33.6918 49.4901C34.0308 49.2988 34.3123 49.02 34.5069 48.6829C34.5069 48.6829 34.8034 47.4967 34.9517 47.1013L35.8413 44.729L38.7573 38.5016C39.9535 36.4422 41.4343 34.562 43.156 32.9167C46.0216 30.4151 49.0605 28.1194 52.25 26.0468C52.5524 25.8439 52.8072 25.5779 52.9969 25.2671C53.1866 24.9563 53.3067 24.6081 53.349 24.2464C53.3913 23.8848 53.3547 23.5182 53.2417 23.1721C53.1288 22.8259 52.9422 22.5083 52.6948 22.2411ZM39.3504 29.2099C37.3791 31.2669 35.7145 33.5973 34.408 36.1292L32.4311 41.0716L31.1955 37.5625C29.7857 34.5454 27.7663 31.8529 25.2646 29.6547C23.7097 28.2317 21.9628 27.0339 20.0751 26.0962C20.9807 25.955 21.8733 25.7401 22.744 25.4537C27.3306 23.7063 31.3249 20.6891 34.2598 16.7551L34.754 16.0632C34.7259 16.4251 34.7259 16.7886 34.754 17.1505C35.4331 20.1237 37.0856 22.7851 39.4493 24.7123C40.3366 25.4224 41.3398 25.9742 42.4147 26.3433H42.6618C41.4919 27.2197 40.3853 28.1776 39.3504 29.2099Z"
        fill={color}
        initial={{opacity: 0, pathLength: 0}}
        animate={controls}
        transition={{duration: 1.5, yo: 'spring', delay: 0.25}}
      />
      <motion.path
        d="M1.28896 9.88509C2.71662 10.281 4.16981 10.5782 5.63825 10.7747C6.03364 11.9609 6.42903 13.0976 6.87385 14.2344C6.89775 14.4411 6.96351 14.6408 7.06714 14.8213C7.17076 15.0018 7.31007 15.1593 7.47656 15.2842C7.64306 15.409 7.83325 15.4987 8.03553 15.5476C8.23781 15.5966 8.44794 15.6038 8.6531 15.5688C8.8619 15.5388 9.06258 15.4673 9.24333 15.3586C9.42409 15.2498 9.58127 15.106 9.70561 14.9356C9.82996 14.7652 9.91896 14.5717 9.96738 14.3664C10.0158 14.1611 10.0227 13.9481 9.98755 13.7401C9.98755 12.7022 9.98755 11.6643 9.98755 10.6759C11.6339 10.3111 13.3009 10.0471 14.9794 9.88509C15.3919 9.94166 15.8101 9.83327 16.1432 9.58344C16.4763 9.33362 16.6974 8.96251 16.7586 8.55065C16.8161 8.13239 16.7092 7.70813 16.4603 7.36709C16.2114 7.02605 15.84 6.7948 15.4242 6.72197C13.8221 6.18695 12.1637 5.83868 10.4818 5.68407H10.1852C9.55896 4.10612 8.79834 2.58487 7.91175 1.13708C7.84272 0.810287 7.66173 0.51786 7.40004 0.310311C7.13835 0.102762 6.81238 -0.00687621 6.47846 0.000334266C6.29983 0.0357629 6.12996 0.106098 5.97857 0.207306C5.82718 0.308515 5.69726 0.438608 5.59625 0.590127C5.49523 0.741646 5.42512 0.911612 5.38992 1.09028C5.35472 1.26895 5.35513 1.45281 5.39113 1.63132C5.39113 3.16346 4.8969 4.54732 4.84747 6.12888C3.73165 6.50052 2.5924 6.79771 1.43723 7.01851C1.25547 7.0119 1.07419 7.04119 0.903758 7.1047C0.733325 7.1682 0.577081 7.26468 0.443964 7.38862C0.310847 7.51256 0.203465 7.66152 0.127962 7.82699C0.052459 7.99246 0.0103134 8.17119 0.00393774 8.35295C-0.0237189 8.72542 0.095111 9.09397 0.335121 9.38014C0.575132 9.6663 0.917364 9.84748 1.28896 9.88509Z"
        fill={color}
        initial={{opacity: 0, pathLength: 0}}
        animate={controls}
        transition={{duration: 1.5, yo: 'spring', delay: 0.25}}
      />
    </svg>
  )
}
